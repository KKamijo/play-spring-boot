<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head th:replace="_temp :: header">
</head>
  <body>
    <div class="container">
      <div class="page-header">
        <h1>ユーザー一覧</h1>
      </div>
      <div align="right">
        <a th:href="@{/user/new/}">ユーザー登録</a>
      </div>
      <table class="table table-striped table-bordered">
        <tr>
          <th class="col-md-3">ID</th>
          <th class="col-md-9">Name</th>
          <th class="col-md-9"></th>
        </tr>
        <tr th:each="user:${users}">
          <td><a class="edit" th:href="@{'/user/edit/' + ${user.id}}" th:text="${user.id}">xx</a></td>
          <td th:text="${user.name}">name</td>
          <td>
            <a class="delete" th:href="@{'/user/delete/' + ${user.id}}">Delete</a>
          </td>
        </tr>
      </table>
    </div>
  </body>
<script>
$("a.delete").on('click', function() {
        $.post(this.href, "_method=delete", function(data) {
            //do refresh
            location.reload();
        });
        return false;
    })
</script>
</html>